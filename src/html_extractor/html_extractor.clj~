(ns html-extractor.html-extractor
  (:gen-class)
  (:require [org.httpkit.client :as http]
            [net.cgrand.enlive-html :as html]
            [clojure.string :as string]
            [clojure.repl :as repl])
  (:import java.io.StringReader))

(defn get-body [url]
  (:body @(http/get url)))

(get-body "https://9gag.com/")

(def response @(http/get "https://9gag.com/"))

(def resource (-> (:body response)
                  java.io.StringReader.
                  html/html-resource))

(def headers (html/select resource [:img])) 

(->> headers
     (map #(:src (:attrs %)))
     (filter #(not (string/blank? %))))

